0 info it worked if it ends with ok
1 verbose cli [ '/home/travis/.nvm/v0.10.36/bin/node',
1 verbose cli   '/home/travis/.nvm/v0.10.36/bin/npm',
1 verbose cli   'publish' ]
2 info using npm@1.4.28
3 info using node@v0.10.36
4 verbose publish [ '.' ]
5 verbose cache add [ '.', null ]
6 verbose cache add name=undefined spec="." args=[".",null]
7 verbose parsed url { protocol: null,
7 verbose parsed url   slashes: null,
7 verbose parsed url   auth: null,
7 verbose parsed url   host: null,
7 verbose parsed url   port: null,
7 verbose parsed url   hostname: null,
7 verbose parsed url   hash: null,
7 verbose parsed url   search: null,
7 verbose parsed url   query: null,
7 verbose parsed url   pathname: '.',
7 verbose parsed url   path: '.',
7 verbose parsed url   href: '.' }
8 silly lockFile 3a52ce78- .
9 verbose lock . /home/travis/.npm/3a52ce78-.lock
10 verbose tar pack [ '/home/travis/.npm/video-dl/3.4.9/package.tgz', '.' ]
11 verbose tarball /home/travis/.npm/video-dl/3.4.9/package.tgz
12 verbose folder .
13 info prepublish video-dl@3.4.9
14 silly lockFile 1f1177db-tar tar://.
15 verbose lock tar://. /home/travis/.npm/1f1177db-tar.lock
16 silly lockFile 3c8f20e7-s-npm-video-dl-3-4-9-package-tgz tar:///home/travis/.npm/video-dl/3.4.9/package.tgz
17 verbose lock tar:///home/travis/.npm/video-dl/3.4.9/package.tgz /home/travis/.npm/3c8f20e7-s-npm-video-dl-3-4-9-package-tgz.lock
18 silly lockFile 1f1177db-tar tar://.
19 silly lockFile 1f1177db-tar tar://.
20 silly lockFile 3c8f20e7-s-npm-video-dl-3-4-9-package-tgz tar:///home/travis/.npm/video-dl/3.4.9/package.tgz
21 silly lockFile 3c8f20e7-s-npm-video-dl-3-4-9-package-tgz tar:///home/travis/.npm/video-dl/3.4.9/package.tgz
22 silly lockFile d7d71155-ravis-npm-video-dl-3-4-9-package /home/travis/.npm/video-dl/3.4.9/package
23 verbose lock /home/travis/.npm/video-dl/3.4.9/package /home/travis/.npm/d7d71155-ravis-npm-video-dl-3-4-9-package.lock
24 silly lockFile d7d71155-ravis-npm-video-dl-3-4-9-package /home/travis/.npm/video-dl/3.4.9/package
25 silly lockFile d7d71155-ravis-npm-video-dl-3-4-9-package /home/travis/.npm/video-dl/3.4.9/package
26 silly lockFile 3a52ce78- .
27 silly lockFile 3a52ce78- .
28 silly publish { name: 'video-dl',
28 silly publish   version: '3.4.9',
28 silly publish   description: 'Script to Download videos from youtube, rai.tv, mediaset, la7 and hundreds of other sites',
28 silly publish   main: 'video-dl.js',
28 silly publish   scripts: { test: 'echo "Error: no test specified" && exit 1' },
28 silly publish   repository:
28 silly publish    { type: 'git',
28 silly publish      url: 'git+https://github.com/danog/video-dl.git#npm' },
28 silly publish   keywords:
28 silly publish    [ 'jquery-plugin',
28 silly publish      'ecosystem:jquery',
28 silly publish      'download',
28 silly publish      'videos',
28 silly publish      'youtube',
28 silly publish      'rai',
28 silly publish      'mediaset',
28 silly publish      'la7',
28 silly publish      'dailymotion' ],
28 silly publish   author:
28 silly publish    { name: 'Daniil Gentili',
28 silly publish      email: 'daniil.gentili.dg@gmail.com',
28 silly publish      url: 'http://daniil.it' },
28 silly publish   license: 'GPL-3.0',
28 silly publish   bugs: { url: 'https://github.com/danog/video-dl/issues' },
28 silly publish   homepage: 'https://daniil.it/video-dl',
28 silly publish   dependencies: { he: '^0.5.0', jquery: '^2.1.4', linkifyjs: '^2.0.0-beta.4' },
28 silly publish   devDependencies: { coveralls: '^2.11.4' },
28 silly publish   readme: '# video-dl\nVideo download project.\n\n[![Build Status](https://travis-ci.org/danog/video-dl.svg?branch=master)](https://travis-ci.org/danog/video-dl)\n[![npm version](https://badge.fury.io/js/video-dl.svg)](https://npmjs.org/package/video-dl)\n\n\n\n[Read in Italian](https://github.com/danog/video-dl/blob/master/README-IT.md)\n\n[View on Github](https://github.com/danog/video-dl/)\n\n\nCreated by [Daniil Gentili](http://daniil.it).\n\nThis project is licensed under the terms of the GPLv3 license.\n\n\nThe programs included in this project can be used to download videos from any generic site including the Italian [Rai](http://rai.tv) Television website (including rai replay and iframe videos), the italian [Mediaset](http://mediaset.it) website (including iframes like the ones on the [Witty TV](http://wittytv.it) website), and the [LA7](http://la7.it) website. And thanks to youtube-dl now they support lots of other websites!\n\nThis project features:\n\n\n* A Bash script that can be installed on\n\n * [Any Linux/Unix system](#bash-script-installation-instructions)\n\n * [Android](#android)\n\n * [Mac OS X](#bash-script-installation-instructions)\n\n * [iOS](#ios) and even on\n\n * [Windows](#windows)!\n\n\n* An [API](#api)!\n\n\n* An [Android app](#method-1-app)!\n\n\n* And even a [web version](#web-version)!\n\n\n* That can be [incorporated](#incorporation) in other websites!\n\n\nBoth the [API](#api) and the [web version](#web-version) use a [database](https://github.com/danog/video-dl/blob/master/video_db.sql).\n\n\n\n# Web version\nThis project also features a [web version](https://video.daniil.it/).\n\n![web version](https://github.com/danog/video-dl/raw/master/web.png)\n\nThe source code of the page can be viewed [here](https://github.com/danog/video-dl/blob/master/web).\n\n\nI used the following programs in the web version:\n\n* [Loading animation (pace.js)](https://github.com/HubSpot/pace)\n\n* [HTML entity encoder (he.js)](https://github.com/mathiasbynens/he)\n\n* [Linkifier (linkify.js)](https://github.com/soapbox/linkifyjs/)\n\n\nAnd used the following theme as a base:  \n\n\n* [Bootstrap theme (freelancer)](https://github.com/IronSummitMedia/startbootstrap-freelancer)\n\n\n\n## Incorporation\n\nYou can incorporate this script in your website!  \nJust include the video-dl script with:  \n```\n<script src="//daniil.it/video-dl/video-dl.min.js"></script>\n```  \nOr install it using npm.  \n```\nnpm install video-dl\n```\n\nHere\'s a list of the functions and the usage instructions.  \n\n###Video Download function.  \n\n####Usage:  \n```\nvideo_dl(output, inputurl, dlsupport, messageoutput)\n```\n\n####Parameters:  \n\n#####output: output html element for the video info and the download urls. Required.  \nexample: ```#result.```\n\n\n\n#####inputurl: url of the video. Required.  \nexample: ```$("input#urljs").val()```\n\n#####dlsupport: enables or disables the download attribute in the download links. Optional.  \n0 enables, anything disables. \n\n#####messageoutput: output html element for the contact module. Optional.  \nexample: ```#message```\n\n\n\n####Example:  \n```video_dl("#result", $("input#urljs").val(), "0", "#message"); ```\n\n\nLet\'s say the ```input#urljs``` text field has value ```"http://www.winx.rai.it/dl/RaiTV/programmi/media/ContentItem-a27ccfe8-b824-4e85-9a08-d15e57fb61a0.html#p=0"```.  \n\nThe function will get the value of the ```input#urljs``` element, get the download links from the API, and return the following output to the ```#result``` element:  \n```\n<h1 style="font-style: italic;">Video download script.</h1><br><h2 style="font-style: italic;">Created by <a href="http://daniil.it">Daniil Gentili</a></h2><br><h1>Title:</h1> <h2>26 - Il potere degli animali fatati - Winx Club VII del 03/10/2015</h2><br><h1>Available versions:</h1><br><h2><a href="http://creativemedia4.rai.it/Italy/podcastcdn/junior/Winx/Winx_7_EP_Puntate/4524680.mp4" download="26_Il_potere_degli_animali_fatati_Winx_Club_VII_del_03102015.mp4">Normal quality (mp4, 267 MiB, 720x404)</a><br></h2>\n```\n\nThe function will then start the mailtext function with the following parameters:  \n```mailtext(messageoutput, inputurl);```  \n\nSee mailtext description for the result.  \n\n\n###First load function.  \nUse to output supported websites list, prepare mail message and,\nonly on the video.daniil.it website, hide the php submit module and use javascript engine instead.  \n\n####Usage:\n```\nfirstload(supportedurls, separatorstart, separatorend, messageoutput, videodaniilit)  \n```\n\n####Parameters:  \n\n#####supportedurls: output html element for the supported websites list. Required.  \nExample: ```#supportedurls```. \n\n#####separatorstart: first separator for the supported urls list: it will be put before every item in the supported websites list, if empty defaults to ```<br>```.  \nOptional, recommended.  \nExample: ```<li>```  \n\n######separatorend: the second separator for the supported urls list: it will be put after every url, if empty defaults to ```<br>```. Optional, recommended.  \nExample: ```</li>```  \n\n######messageoutput: output html element for default contact module text. Optional, recommended.  \nExample: ```#contact ```\n\n\n#####videodaniilit: If on video.daniiil.it hides php module and unhides javascript text field. Do not use.  \n\n####Example:  \n```\nfirstload("#supportedurls", "<li>", "</li>", "#message");  \n```\n\nLet\'s say the url list is: ```a b c d```. \n\nOutput printed to #supportedurls is:\n\n```\n<li>a</li><li>b</li><li>c</li><li>d</li><a href="http://lol.daniil.it" target="_blank">&#9786;</a></li>\n```\n\nThis will also create the default contact module text with\n```\nmailtext("#message");  \n```\n\n\n###Contact module function.  \nPrints a nice message to the contact module text field, with the url if it\'s provided else just With ```insert link```.  \n\n####Usage:  \n```\nmailtext(output, url)  \n```\n\n####Parameters:  \n\n#####output: html selector where to print out the contact message. Required.  \nExample: ```#contact```\n\n\n\n#####url: url of the video to insert into the message.  Not required, if not provided defaults to insert link.\n\n  \n\n####Example:  \n```\nmailtext("#contact", "http://google.com");  \n```\n\nWill put \n```\nThe video:\nhttp://google.com\ndoes not download, could you please fix it\nThanks!\n```\n\nto ```#contact```.  \n\n\n###Error function.  \nSends me an email if an error occurs.  \n\n####Usage:  \n```\nerror(output, url, error)  \n```\n\n####Parameters:  \n\n#####output: html selector where to output success or error message of request to mail sending php script. Required.  \nexample: ```#result```  \n\n#####url: url of the video that failed to download.   Required.  \nexample: ```http://google.com``` \n\n#####error: actual error message. If empty defaults to\nEmpty Response. Recommended.  \nexample: ```error 404```  \n\n####Example:  \n```\nerror("#result", "http://google.com", "error 404");  \n```\n\nWill try to send me a mail and print ```"An error occurred and it was reported!"``` to ```#result```` if everything went fine, else it will print ```"An error occurred but it couldn\'t be reported! Please use the manual report module!"```.   \n\n\n# Bash script.\n\n## Bash script usage:\n\n```\nvideo.sh [ -qaf [ urls.txt ] ] URL URL2 URL3 ...\n\nDo not forget to put the URL between quotes if it contains special chars like & or #.\n\nRun with ./video.sh if you installed in a directory not in $PATH.\n\nOptions:\n\n\n\n\n-q              Quiet mode: useful for crontab jobs, automatically enables -a.\n\n-a              Automatic mode: automatically download the video in the maximum quality.\n\n-b              Use built-in API engine: requires additional programs and may not work properly on some systems but may be faster than the API server.\n\n-f              Read URL(s) from specified text file(s). If specified, you cannot provide URLs as arguments.\n\n-p=player       Play the video instead of downloading it using specified player, mplayer if none specified.\n\n--help          Show this extremely helpful message.\n\n```\n\n\n\n### Bash script installation instructions:\n\n#### Debian-derived distros (Ubuntu, Linux mint, Bodhi Linux, etc.)\n\n\nOn debian-derived distros, execute this command to add my repo to your system:\n\n\n```\nsudo wget -q -O /etc/apt/sources.list.d/daniil.list http://dano.cu.cc/1IJrcd1 && wget -q -O - http://dano.cu.cc/1Aci9Qp | sudo apt-key add - && sudo apt-key adv --recv-keys --keyserver keys.gnupg.net 72B97FD1D9672C93 && sudo apt-get update\n```\n\n\nYou should see an OK if the operation was successful.\n\n\nAnd this command to install the script.\n\n\n```\nsudo apt-get update; sudo apt-get -y install video-dl\n```\n\n\n\n#### Any other Linux/Unix system (Ubuntu, Debian, Fedora, Redhat, openBSD, Mac OS X):\n\n\nExecute this command to install the script:\n\n```\nwget http://daniilgentili.magix.net/video.sh -O video.sh || curl -L http://daniilgentili.magix.net/video.sh -o video.sh; chmod +x video.sh\n```\n\nRun with ./video.sh in the directory where you downloaded it.\n\nTo use from any directory install the script directly in the $PATH using this command (run as root):\n\n```\nwget http://daniilgentili.magix.net/video.sh -O /usr/bin/video.sh || curl -L http://daniilgentili.magix.net/video.sh -o video.sh; chmod +x /usr/bin/video.sh\n```\n\n\n#### Android:\n##### Method 1 (app).\nEnable unknown sources and install [this app](http://bit.ly/0192837465k). Once opened you will be presented with a user friendly interface similar to the web version.\n##### Changelog:\n\n1: initial version\n\n1.2: added not working, share and credits button\n\n1.2.1: added external sharing option, fixed bugs\n\n1.2.2: Fixed not working button on external share URL, added google analytics, fixed Rai Replay on external share.\n\n1.3: Added auto update.\n\n1.4: Added more credits.\n\n\n##### Todo: \n\nYou tell me!\n\n\n##### Method 2 (script).\n##### Install [Busybox](https://play.google.com/store/apps/details?id=stericson.busybox), [Jackpal\'s Terminal emulator](https://play.google.com/store/apps/details?id=jackpal.androidterm) and [Bash](https://play.google.com/store/apps/details?id=com.bitcubate.android.bash.installer) on rooted devices or [Busybox no root](https://play.google.com/store/apps/details?id=burrows.apps.busybox) if your device isn\'t rooted. \n\n\n[Video tutorial](https://www.youtube.com/watch?v=4NLs2NzHbbc)\n\n\nNote: if you can\'t copy & paste the commands directly in the Terminal Emulator app try this: paste them in the url bar one line at a time, copy them again from the url bar and try to paste them again in the Terminal Emulator app.\nRun these commands:\n```\ncd /sdcard && wget http://daniilgentili.magix.net/android/video.sh \n```\n\nRun with:\n```\nbash /sdcard/video.sh\n```\n\n\nTo install the script directly in the $PATH use these commands (here, root is mandatory).\n\n\n```\nsu\nmount -o rw,remount /system && wget http://daniilgentili.magix.net/android/video.sh -O /system/bin/video.sh && chmod 755 /system/bin/video.sh\n```\n\n\nIf you cannot execute the script match the its shebang (the #!) to the location of the bash executable.\n\n### iOS:\nJailbreak your device, add the following repo to Cydia,\n\n```\nhttp://repo.daniil.it\n```\n\n... and install mobileterminal and video-dl.\n\n\nRun with video.sh in mobileterminal.\n\nTo view and import the downloaded video to the gallery use iFile or Filza.\n\n\n### Windows:\nInstall [Cygwin](https://www.cygwin.com) (don\'t forget to install wget and sed during the installation process!), open its command prompt and type:\n\n```\nwget http://daniilgentili.magix.net/win/video.sh -O video.sh\n```\n\nRun with ./video.sh In the directory where you downloaded it.\n\nTo run the script from any directory run the following commands:\n\n```\ncd /bin && wget http://daniilgentili.magix.net/win/video.sh -O video.sh && cd $OLDPWD\n```\n\n\n## API\n\nThis project also features an [API](http://video.daniil.it/api/).\n\nThe source code of the API can be viewed [here](https://github.com/danog/video-dl/blob/master/api).\n\nThe API uses [youtube-dl](https://github.com/rg3/youtube-dl) to get the links for non Rai/mediaset/la7 videos.\n\nThe API supports GET requests and the endpoint is http://api.daniil.it (supports https).\n\n### Supported parameters:\n\n\n#### url\n\n\nThe value should be the URL of the video to download. The response will be a list of URLS with the corresponding quality name, format, size and dimension.\n\n\nExample:\n\n```\nhttp://api.daniil.it/?url=http://www.winx.rai.it/dl/RaiTV/programmi/media/ContentItem-47307196-8fd1-46f8-8b31-92ae5f9b5089.html#p=0\n```\n\nOutput:\n\n```\nWinx_Club_VI_Ep3_Il_collegio_volante Winx Club VI - Ep.3: Il collegio volante\nHighest quality (mp4, 286MB, 1024x576) http://creativemedia4.rai.it/Italy/podcastcdn/junior/Winx/Winx_6_puntate/2189463_1800.mp4\nMedium-low quality (mp4, 131MB, 700x394) http://creativemedia4.rai.it/Italy/podcastcdn/junior/Winx/Winx_6_puntate/2189463_800.mp4\n```\n\nExplanation: \n\n```\nWinx_Club_VI_Ep3_Il_collegio_volante Winx Club VI - Ep.3: Il collegio volante\n```\n\nSanitized name of video for file name  Original name of the video for printing to user output\n\n```\nHighest quality (mp4, 286MB, 1024x576) http://creativemedia4.rai.it/Italy/podcastcdn/junior/Winx/Winx_6_puntate/2189463_1800.mp4\n```\n\nQuality name (format, size, dimension) URL of the video\n\n```\nMedium-low quality (mp4, 131MB, 700x394) http://creativemedia4.rai.it/Italy/podcastcdn/junior/Winx/Winx_6_puntate/2189463_800.mp4\n```\n\nQuality name (format, size, dimension) URL of the video\n\nThe qualities are ordered in decreasing order by dimension.\n\n\n\n#### p\n\nSupports the following values:\n\n```\nwebsites\n```\n\nreturns a shortened list of supported websites:\n\n\n```\nallwebsites\n```\n\nreturns a full list of supported websites.\n\n\n\n## Contribute!\n\n\nIf you created a version of the script using another programming language [contact me](http://daniil.it) and I will put it on this page!\n\nThat\'s it!\n\nEnjoy!\n\n[Daniil Gentili](http://daniil.it)\n',
28 silly publish   readmeFilename: 'README.md',
28 silly publish   _id: 'video-dl@3.4.9',
28 silly publish   _shasum: '7928e6773af679aa6d795415e1d5bbdcfaed899b',
28 silly publish   _from: '.' }
29 error need auth auth and email required for publishing
29 error need auth You need to authorize this machine using `npm adduser`
30 error System Linux 2.6.32-042stab108.8
31 error command "/home/travis/.nvm/v0.10.36/bin/node" "/home/travis/.nvm/v0.10.36/bin/npm" "publish"
32 error cwd /home/travis/build/danog/video-dl/video-dl/jquery
33 error node -v v0.10.36
34 error npm -v 1.4.28
35 error code ENEEDAUTH
36 verbose exit [ 1, true ]
